<!DOCTYPE html>
<html>

<head>
    <title>Successful Login</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        button {
            padding: 5px;
        }

        img.centerImg {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 200px;
            height: auto;
        }

        body {
            background-image: url("../images/books.png");
        }

        .informationDiv {
            width: 20%;
            background-color: rgba(255, 255, 255, 0.1);
            /* background-color: rebeccapurple; */
            margin: 0 auto;
            /* padding: 10px; */
        }

        img.book {
            width: 10%;
            margin-top: 0px;
            margin-left: 150px;
            border: 5px solid #555;
        }

        .title {
            width: 50%;
            background-color: white;
            margin: 0 auto;
            padding: 10px;
        }

        #myImage {
            width: 230px;
            height: auto;
        }

        .buyButton {
            padding: 10px;
            cursor: pointer;
            font-size: 14px;
            color: white;
            background-color: orange;
            border: none;
            outline: none;
            text-decoration: none;
            border-radius: 15px;
            box-shadow: 0 5px #999;
            text-align: center;

        }

        .buyButton:hover {
            background-color: orange;
        }

        .buyButton:active {
            background-color: rgb(212, 140, 5);
            box-shadow: 0 2px #666;
            transform: translateY(4px);
        }

        .buyButton:disabled {
            color: #999;
            background-color: rgb(88, 88, 88);
            box-shadow: 0 2px #666;
        }
    </style>


    <script>
        function openLeftMenu() {
            document.getElementById("leftMenu").style.display = "block";
        }

        function closeLeftMenu() {
            document.getElementById("leftMenu").style.display = "none";
        }

        function openRightMenu() {
            document.getElementById("rightMenu").style.display = "block";
        }

        function closeRightMenu() {
            document.getElementById("rightMenu").style.display = "none";
        }

        function loadBook() {
            //var img = "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/No_picture_available.png/128px-No_picture_available.png";
            var img = document.getElementById("myImage");
            var title = document.getElementById("title");
            var author = document.getElementById("author");
            var publisher = document.getElementById("publisher");
            var description = document.getElementById("description");
            var price = document.getElementById("price");
            var bButton = document.getElementById("buy");

            var colorBackground = document.getElementById("colorBack");


            var bookNumStr = localStorage.getItem("pressed");
            var bookNum = parseInt(bookNumStr);

            //Set the src property of our element to the new image URL
            img.src = localStorage.getItem("img" + bookNumStr);
            title.innerHTML = "<strong>" + localStorage.getItem("title" + bookNumStr) + "</strong>";
            author.innerHTML = localStorage.getItem("author" + bookNumStr);
            publisher.innerHTML = localStorage.getItem("publisher" + bookNumStr) + " - " + localStorage.getItem("publishDate" + bookNumStr);
            description.innerHTML = localStorage.getItem("description" + bookNumStr);

            var bookPrice = localStorage.getItem("price" + bookNumStr);
            var bookCurrency = localStorage.getItem("currency" + bookNumStr);
            var buyLink = localStorage.getItem("buyLink" + bookNumStr);
            if (buyLink == "N/A") {
                bButton.disabled = true;
                bButton.innerHTML = "Not available";
            } else {
                price.innerHTML = "<strong>$ " + parseFloat(bookPrice).toFixed(2) + "<br/>" + bookCurrency + "</strong>";
                colorBackground.style.backgroundColor = "rgba(45, 170, 45, 0.5)";
            }

            bButton.onclick = () => {
                if (buyLink != "N/A") {
                    location.href = buyLink;
                }

            }


        }

    </script>
</head>

<body onload="loadBook()">
    <script src="../js/validate.js"></script>

    <div class="informationDiv">
        <a href="main.html"><img class="centerImg" src="../images/logo.png"></a>
    </div>

    <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="leftMenu">
        <button onclick="closeLeftMenu()" class="w3-bar-item w3-button w3-large">Close &times;</button>
        <a href="main.html" class="w3-bar-item w3-button">Home</a>
        <a href="search.html" class="w3-bar-item w3-button">Search</a>
    </div>

    <!-- <div class="w3-sidebar w3-bar-block w3-card w3-animate-right" style="display:none;right:0;" id="rightMenu">
            <button onclick="closeRightMenu()" class="w3-bar-item w3-button w3-large">Close &times;</button>
            <a href="#" class="w3-bar-item w3-button">Link 1</a>
            <a href="#" class="w3-bar-item w3-button">Link 2</a>
            <a href="#" class="w3-bar-item w3-button">Link 3</a>
        </div> -->

    <button class="w3-button w3-teal w3-xlarge w3-left" onclick="openLeftMenu()">&#9776;</button>
    <!-- <button class="w3-button w3-teal w3-xlarge w3-right" onclick="openRightMenu()">&#9776;</button> -->


    <div id="image_holder" style="display:inline-block; vertical-align:top;margin-right: 20px;">
        <img id="myImage" class="book"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/No_picture_available.png/128px-No_picture_available.png"
            alt="Book Cover">
        <br /><br />
        <div id="colorBack"
            style="background-color:rgba(170, 45, 45, 0.5); margin-left:40%;padding: 5px;text-align: center;">
            <div id="price" style="color: white;text-align: center; font-size: 20pt;">
                <strong>Not Available</strong>
            </div>
            <br />
            <button id="buy" class="buyButton">Buy Now</button>
        </div>

    </div>
    <div
        style="display:inline-block;margin-top: 0px;background-color: rgba(255, 255, 255, 0.8);width: 63.5%;padding-bottom: 20px;">
        <div id="title" style="margin-left:15px;font-size: 28pt;color:darkblue;">Testing</div>
        <div id="author" style="margin-left:15px;font-size: 18pt">Testing</div>
        <br />
        <div id="publisher" style="margin-left:15px;font-size: 18px">Testing</div>
        <br />
        <div id="description" style="margin-left:15px;font-size: 18pt;">Testing</div>
    </div>
    <br />

    <div>
        Testing
    </div>

</body>


</html>